---
output: github_document
---

[![Travis build status](https://travis-ci.com/zendaokab/msaeRB.svg?branch=main)](https://travis-ci.com/zendaokab/msaeRB)
[![AppVeyor build status](https://ci.appveyor.com/api/projects/status/github/zendaokab/msaeRB?branch=main&svg=true)](https://ci.appveyor.com/project/zendaokab/msaeRB)
[![Codecov test coverage](https://codecov.io/gh/zendaokab/msaeRB/branch/main/graph/badge.svg)](https://codecov.io/gh/zendaokab/msaeRB?branch=main)

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# msaeRB

Implements multivariate ratio benchmarking Small Area Estimation. This package provides ratio benchmarking estimation for univariate and multivariate Small Area Estimation and its MSE. In fact, MSE estimators for ratio renchmark are not readily available, so resampling method that called parametric bootstrap is applied. The ratio benchmark model and parametric bootstrap in this package are based on the model proposed in Small Area Estimaton (J.N.K Rao and Isabel Molina, 2015)

## Installation

You can install the released version of msaeRB from [CRAN](https://CRAN.R-project.org) with:

``` r
install.packages("msaeRB")
```

## Example

Example for univariate:

```{r example}
library(msaeRB)
# Using parameter 'data'
data("datamsaeRB")

# Estimation
est_sae = est_saeRB(Y1 ~ X1 + X2, v1, w1, data = datamsaeRB)

# MSE
mse_sae = mse_saeRB(Y1 ~ X1 + X2, v1, w1, data = datamsaeRB)

# Show the result of est_sae
est_sae
```

Example for multivariate:
```{r}
library(msaeRB)
# Without parameter 'data'
Fo = list(f1 = datamsaeRB$Y1 ~ datamsaeRB$X1 + datamsaeRB$X2,
          f2 = datamsaeRB$Y2 ~ datamsaeRB$X1 + datamsaeRB$X2,
          f3 = datamsaeRB$Y3 ~ datamsaeRB$X1 + datamsaeRB$X2)
vardir = datamsaeRB[, c("v1", "v12", "v13", "v2", "v23", "v3")]
weight = datamsaeRB[, c("w1", "w2", "w3")]

# Estimation
est_msae = est_msaeRB(Fo, vardir, weight)

# MSE
mse_msae = mse_msaeRB(Fo, vardir, weight)

# Show the result of MSE
mse_msae
```

